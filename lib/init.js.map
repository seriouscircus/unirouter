{"version":3,"sources":["../src/init.js"],"names":[],"mappings":";;;;kBASwB;;;;;;;;AALjB,IAAM,0CAAiB,SAAjB,cAAiB;SAAS,YAAM;AAC3C,QAAM,MAAM,mBAAO,KAAP,CAAN,CADqC;AAE3C,UAAM,QAAN,CAAe,uBAAS,EAAC,QAAD,EAAM,MAAM,IAAN,EAAY,QAAQ,UAAR,EAA3B,CAAf,EAF2C;GAAN;CAAT;;AAKf,SAAS,IAAT,CAAc,KAAd,EAAqB,MAArB,EAA6B,OAA7B,EAAsC;AACnD,MAAM,MAAM,mBAAO,KAAP,CAAN,CAD6C;;AAGnD,+BAAgB,MAAhB,EAAwB,OAAxB,EAHmD;;AAKnD,QAAM,QAAN,CAAe,uBAAS,EAAC,QAAD,EAAM,QAAQ,MAAR,EAAf,CAAf,EALmD;;AAOnD,MAAI,OAAO,MAAP,KAAkB,WAAlB,EAA+B;AACjC,WAAO,UAAP,GAAoB,eAAe,KAAf,CAApB,CADiC;GAAnC;CAPa","file":"init.js","sourcesContent":["import {configureRouter} from './router'\r\nimport {getUrl} from './utils'\r\nimport {navigate} from './actions'\r\n\r\nexport const handlePopState = store => () => {\r\n  const url = getUrl(store)\r\n  store.dispatch(navigate({url, push: true, source: 'popState'}))\r\n}\r\n\r\nexport default function init(store, routes, aliases) {\r\n  const url = getUrl(store)\r\n\r\n  configureRouter(routes, aliases)\r\n\r\n  store.dispatch(navigate({url, source: 'init'}))\r\n\r\n  if (typeof window !== 'undefined') {\r\n    window.onpopstate = handlePopState(store)\r\n  }\r\n}\r\n"]}